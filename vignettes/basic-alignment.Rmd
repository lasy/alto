---
title: "basic-alignment"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{basic-alignment}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This is mainly a way to test our code without having a full `testthat` workflow.

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(alto)
library(stringr)
set.seed(123)
```

First fit 10 models to toy data.

```{r}
data <- rmultinom(20, 5000, rep(0.1, 500))
lda_params <- lapply(1:10, function(z) list(k = z))
names(lda_params) <- str_c("K", 1:10)
lda_models <- run_lda_models(data = data, lda_varying_params_lists = lda_params)
```

```{r}
result <- align_topics(lda_models, "consecutive")
result
plot(result)
plot_beta(result)
```

Some more variants of `plot_beta`.

```{r}
plot_beta(result, "all", n_features = 20, bottom.label.text.size = 3)
plot_beta(result, c(2, 3, 5), n_features = 10)
plot_beta(result, c("K2", "K5", "K10"), n_features = 10)
plot_beta(result, "last", n_features = 10)
```


```{r}
result <- align_topics(lda_models, "all")
result
```

```{r}
result <- align_topics(lda_models, "consecutive", method = "transport", top_n = 3)
result
```

```{r}
plot(result)
plot_beta(result)
```
