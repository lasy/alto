---
title: "Basic Alignment"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{basic-alignment}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This is mainly a way to test our code without having a full `testthat` workflow.

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
#devtools::document(); devtools::install(quick = TRUE)
library(alto)
library(stringr)
set.seed(123)
```

This step will eventually be replaced by a `run_lda_models` call.


```{r}
data = rmultinom(20, 5000, rep(0.1, 500))
lda_varying_params_lists <- lapply(1:10, function(z) list(k = z))
names(lda_varying_params_lists) <- str_c("K", 1:10)
lda_models =
   run_lda_models(
      data = data,
      lda_varying_params_lists = lda_varying_params_lists
      )
```

```{r}
result <- align_topics(lda_models, "consecutive")
result
plot(result)
plot_beta(result)
```

```{r}
result <- align_topics(lda_models, "all")
result
```

```{r}
result <- align_topics(lda_models, "consecutive", method = "transport", top_n=3)
result
```

```{r}
plot(result)
plot_beta(result)
```
