<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run LDA models for specified values of hyper-parameters. — run_lda_models • alto</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run LDA models for specified values of hyper-parameters. — run_lda_models"><meta property="og:description" content="This function fits a collection of lda models to a dataset, fitting one model
for each hyperparameter setting specified by the
lda_varying_params_list argument. Its output can be directly used by
align_topics."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">alto</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li class="dropdown-header">Demos</li>
    <li>
      <a href="../articles/basic-alignment.html">Introduction to Alignment</a>
    </li>
    <li>
      <a href="../articles/microbiome-demo.html">Using `alto` on vaginal microbiome data</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Simulations</li>
    <li>
      <a href="../articles/lda.html">Identifying True Topics</a>
    </li>
    <li>
      <a href="../articles/background-noise.html">Characterizing Topics with Background Noise</a>
    </li>
    <li>
      <a href="../articles/strain-switching.html">Strain Switching</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Profiling</li>
    <li>
      <a href="../articles/timing.html">Measuring Runtimes</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run LDA models for specified values of hyper-parameters.</h1>
    
    <div class="hidden name"><code>run_lda_models.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function fits a collection of lda models to a dataset, fitting one model
for each hyperparameter setting specified by the
<code>lda_varying_params_list</code> argument. Its output can be directly used by
<code>align_topics</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_lda_models</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">lda_varying_params_lists</span>,</span>
<span>  lda_fixed_params_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reset <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>(required) a <code>matrix</code>, <code>data.frame</code> or
<code><a href="https://rdrr.io/pkg/slam/man/matrix.html" class="external-link">slam::simple_triplet_matrix</a></code> containing the counts (integers) of each
feature (e.g. words) and each sample (or document). If data is provided as
<code>matrix</code> or <code>data.frame</code>, each row is a sample, each column is a
feature.</p></dd>


<dt>lda_varying_params_lists</dt>
<dd><p>(required) a <code>list</code> specifying the
parameter for each models that needs to be ran. Currently, supported
parameters are "k" (the number of topic), "method" ("VEM" or "Gibbs"), and
"control", a list of type <code>LDAcontrol</code>. See <code><a href="https://rdrr.io/pkg/topicmodels/man/lda.html" class="external-link">topicmodels::LDA</a></code> for
details and below for examples.</p></dd>


<dt>lda_fixed_params_list</dt>
<dd><p>(optional) a <code>list</code> specifying the
parameters common to all models to be fitted. Values provided by
<code>lda_fixed_params_list</code> are overwritten by those provided by
<code>lda_varying_params_lists</code>.</p></dd>


<dt>dir</dt>
<dd><p>(optional) a <code>character</code> specifying the directory in which
individual LDA models should be stored. If not specified, individual LDA
models are not stored. This option is especially useful for data exploration
as it allows to save execution time if one wishes to add models to an
existing model list. (see examples)</p></dd>


<dt>reset</dt>
<dd><p>(optional, default = <code>FALSE</code>). Should any cached models in
the save directory be cleared?</p></dd>


<dt>verbose</dt>
<dd><p>(optional, default = <code>FALSE</code>) Print verbose output while
running models?</p></dd>


<dt>seed</dt>
<dd><p>(optional, default = <code>1</code>) Seed to use in
<code>topicmodels::LDAControl</code>. Necessary because LDA's VEM routine uses an
external (non-R) random number generator.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a list of LDA models (see package <code>topicmodels</code>).
? or a <code>lda_models</code> object which would be a list of
1. a list of model;
2. some metadata about the alignement</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1000</span>, size <span class="op">=</span> <span class="fl">24</span><span class="op">)</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lda_varying_params_lists</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>K2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, K3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lda_models</span> <span class="op">=</span></span></span>
<span class="r-in"><span>   <span class="fu">run_lda_models</span><span class="op">(</span></span></span>
<span class="r-in"><span>      data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>      lda_varying_params_lists <span class="op">=</span> <span class="va">lda_varying_params_lists</span>,</span></span>
<span class="r-in"><span>      dir <span class="op">=</span> <span class="st">"test_lda_models/"</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using default value 'VEM' for 'method' LDA parameter.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using default value 'VEM' for 'method' LDA parameter.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">additional_lda_varying_params_list</span> <span class="op">=</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>K4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">updated_lda_models</span> <span class="op">=</span></span></span>
<span class="r-in"><span>   <span class="fu">run_lda_models</span><span class="op">(</span></span></span>
<span class="r-in"><span>      data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>      lda_varying_params_lists <span class="op">=</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/append.html" class="external-link">append</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>           <span class="va">lda_varying_params_lists</span>,</span></span>
<span class="r-in"><span>           <span class="va">additional_lda_varying_params_list</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      dir <span class="op">=</span> <span class="st">"test_lda_models/"</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using default value 'VEM' for 'method' LDA parameter.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using default value 'VEM' for 'method' LDA parameter.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using default value 'VEM' for 'method' LDA parameter.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># because we specified the "dir" option, it only runs LDA for k = 4</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="st">"test_lda_models/"</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kris Sankaran, Laura Symul, Julia Fukuyama.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

